"use strict";function hidePreloader(){jQuery(document).ready(function(e){e(".preloader").delay(1e3).fadeOut(500),setTimeout(function(){e("body.loading").removeClass("loading")},1e3)})}window.addEventListener("load",hidePreloader,!1),jQuery(document).ready(function(e){function t(e){var t=Math.floor(e),i=Math.floor(t/60);return i=i>=10?i:"0"+i,t=Math.floor(t%60),t=t>=10?t:"0"+t,i+":"+t}function i(t){var i=e(t.target),n=i.hasClass("mejs__horizontal-volume-total")?i:i.hasClass("mejs__horizontal-volume-slider")?i.find(".mejs__horizontal-volume-total"):i.parents(".mejs__horizontal-volume-slider").find(".mejs__horizontal-volume-total"),o=n.width(),a=n.offset(),s=void 0!==t.pageX?t.pageX-a.left:0,r=s/o;e(".mejs__horizontal-volume-current").css({left:0,width:100*r+"%"}),m.setVolume(r)}function n(){function t(t){var i=e(".js-video-slider"),n=i.find(".video__column:not(:first-child)"),o=n.find(".video__placeholder"),a="";o.each(function(e,i){0==e&&(a+='<li class="video__column">'),a+=i.outerHTML,(e+1)%t==0&&(a+='</li><li class="video__column">'),e==o.length&&(a+="</li>")}),n.remove(),i.find(".uk-slider-items").append(a)}r[0].innerWidth<767?1!=w&&(t(1),w=1):r[0].innerWidth>=768&&r[0].innerWidth<s.l?2!=w&&(t(2),w=2):3!=w&&(t(3),w=3)}function o(){e(".video, .news").each(function(t,i){var n=e(i).find(".uk-slider"),o=e(i).find(".uk-slidenav-next"),a=e(i).find(".uk-slidenav-previous");if(r[0].innerWidth>=1920){var s=(r[0].innerWidth-n.innerWidth())/2;o.css("right",o.width()-s),a.css("left",a.width()-s)}else o.css("right",0),a.css("left",0)})}function a(t){var i=t,n=!1,o={success:"Your message was successfully sent!",error:"Please enter require field(s)",fail:"Unknown error"},a="";return i.find('input:not([type="submit"]), textarea').each(function(t,i){var s=e(this);void 0!==s.attr("data-require")&&"true"===s.attr("data-require")&&""===s.val()&&(a=o.error,s.addClass("js-field-error"),n=!0)}),n||e.post("mail.php",i.serialize(),function(e){a=1==e?o.success:0==e?o.error:o.fail,i.find(".js-respond").text(a)}).fail(function(e){console.log(e),UIkit.modal.dialog('<p class="uk-modal-body c-dark">'+o.fail+"</p>")}),i.find(".js-respond").text(a),!1}const s={s:640,m:960,l:1200,xl:1600};var r=e(window);"ontouchstart"in window&&e("body").addClass("is-touch");var l=!1;if(r.on("load scroll resize",function(){r[0].innerWidth>=s.m?r.scrollTop()>r[0].innerHeight?l?l=!1:(e(".panel").fadeIn(),l=!0):l?l=!1:(e(".panel").fadeOut(),l=!0):l?l=!1:(e(".panel").fadeIn(),l=!0)}),UIkit.scrollspyNav(".js-scrollspy-nav",{closest:"li",scroll:!0,offset:r[0].innerWidth>=s.m?80:20}),e(".js-offcanvas-nav").on("click","a",function(){UIkit.offcanvas("#offcanvas-nav").hide()}),e(".js-intro-title").length)for(var d=e(".uk-slideshow-items li"),u=d.find(".js-intro-title"),c="",f="",p=0;p<u.length;p++){c=u.eq(p).text().split(" ");for(var h=0;h<c.length;h++)f+="<span>"+c[h]+"</span>";u.eq(p).after(f),f=""}var m=null,v=e(".js-audio"),g=e(".albums--list .albums__item"),y=e(".js-panel-play"),b=e(".js-audio-play"),_=e(".js-audio-volume, .js-panel-volume");e(".albums__item").on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:e(".music").offset().top-(r[0].innerWidth>=s.m?80:20)},500)}),v.attr("src",e(".js-audio-items .list__item").eq(0).data("audio")),v.mediaelementplayer({startVolume:1,features:[],success:function(i,n,o){m=i;var a=null,s=e(".list__item--active");s.data("audio");i.addEventListener("playing",function(){var n=i.getCurrentTime();n<1?e(".list__item--active .js-audio-time").text(t(n)):e(".list__item--active .js-audio-time").text(t(n+1)),a=setInterval(function(){i.getCurrentTime()>i.duration&&clearInterval(a),e(".list__item--active .js-audio-time").text(t(i.getCurrentTime()+1))},1e3);var o=e(".list__item--active").parents(".playlist").index();g.removeClass("albums--playing").eq(o).addClass("albums--playing"),setTimeout(function(){g.removeClass("albums--paused"),y.hasClass("icon--play")&&y.removeClass("icon--play").addClass("icon--pause")},100)},!0),i.addEventListener("pause",function(){clearInterval(a),e(".albums--playing").addClass("albums--paused"),y.hasClass("icon--pause")&&y.removeClass("icon--pause").addClass("icon--play")}),i.addEventListener("ended",function(){var t=e(".list__item--active"),i=t.next();clearInterval(a),t.find(".js-audio-play, .js-panel-play").removeClass("icon--pause").addClass("icon--play"),e(".list__item").removeClass("list__item--active"),g.removeClass("albums--playing"),t.find(".js-audio-time").text(""),0!=i.length&&(m.setSrc(i.data("audio")),m.play(),i.addClass("list__item--active"),i.find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"))},!0)},error:function(){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>')}}),m?(y.on("click",function(t){t.preventDefault();var i=e(this);m.paused?(e(".list__item").hasClass("list__item--active")?e(".list__item--active .js-audio-play").removeClass("icon--play").addClass("icon--pause"):e(".list__item").eq(0).find(".js-audio-play").removeClass("icon--play").addClass("icon--pause"),i.removeClass("icon--play").addClass("icon--pause"),e(".list__item--active .icon--play").removeClass("icon--play").addClass("icon--pause"),m.play(),e(".js-audio-items .list__item").hasClass("list__item--active")||e(".js-audio-items .list__item").eq(0).addClass("list__item--active")):(i.removeClass("icon--pause").addClass("icon--play"),e(".js-audio-play.icon--pause").removeClass("icon--pause").addClass("icon--play"),m.pause())}),b.on("click",function(t){t.preventDefault();var i=e(this),n=e(".list__item--active"),o=i.parent(".list__item"),a=o.data("audio");e(".list__item").removeClass("list__item--active"),o.addClass("list__item--active"),m.paused?(v.attr("src")!==a&&(n.find(".js-audio-time").text(""),m.setSrc(a)),i.add(y).removeClass("icon--play").addClass("icon--pause"),m.play()):(e(".js-audio-play.icon--pause").add(y).removeClass("icon--pause").addClass("icon--play"),m.pause(),v.attr("src")!==a&&(n.find(".js-audio-time").text(""),m.setSrc(a),i.add(y).removeClass("icon--play").addClass("icon--pause"),m.play(),e(".list__item--active").removeClass("list__item--active"),o.addClass("list__item--active")))}),_.on("mousedown",function(t){window.panelVolumeSlide=e(this).on("mousemove",{e:event},i)}).on("mouseup",function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")}).on("mouseleave",function(){"undefined"!=typeof panelVolumeSlide&&panelVolumeSlide.off("mousemove")}).on("click",{e:event},i)):UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of audio file</p>');var w=3;n(),r.on("resize",n),e(".js-video-target").on("click",function(t){t.preventDefault(),e(".modal__video video").remove();var i=e(this).data("video-src"),n=e(this).data("video-type");e(".modal__video").append('<video controls preload="auto"><source src="" type=""></video>'),e(".modal__video source").attr({src:i,type:n}),UIkit.modal("#modal-video").show(),e(".modal__video video").mediaelementplayer({startVolume:1,alwaysShowControls:!0,stretching:"responsive",videoVolume:"horizontal",success:function(e,t,i){m.paused||m.pause(),e.play()},error:function(e,t,i){UIkit.modal.dialog('<p class="uk-modal-body c-dark">Error of video file</p>')}})}),UIkit.util.on("#modal-video","hidden",function(){e("#modal-video .mejs__video").remove()}),o(),r.on("resize",o),e(".js-form").submit(function(){return a(e(this)),!1}),e(".js-form").find('input:not([type="submit"]), textarea').bind("change paste keyup",function(){var t=e(this),i=t.parents(".js-form").find(".js-respond");e(this).hasClass("js-field-error")&&e(this).removeClass("js-field-error"),""!==i.text()&&i.text("")}),new Instafeed({get:"user",userId:"19632917645",accessToken:"19632917645.525d8aa.1c612680382c4940b2dd3a071fa4731a",resolution:"standard_resolution",template:'<div><a href="{{link}}" target="_blank" id="{{id}}" class="cover__photo uk-background-cover uk-transition-toggle" src="{{image}}" data-src="{{image}}" data-uk-img><span class="cover__link uk-box-shadow-large fab fa-instagram uk-transition-scale-up"></span></a></div>',limit:5,links:!1,after:function(){e("#instafeed > div").each(function(t,i){switch(t){case 2:e(this).addClass("uk-visible@s");break;case 3:case 4:e(this).addClass("uk-visible@m")}})}}).run(),e(".js-scrollbar").mCustomScrollbar(),UIkit.util.on(".js-modal-article","show",function(){function t(){if(i.find('[class^="cover__photo"]')&&i.find(".js-scrollbar")){var e=i.find('[class^="cover__photo"]'),t=e.innerHeight(),n=i.find(".js-scrollbar"),o=n.parent(),a=parseInt(o.css("padding-top")),s=parseInt(o.css("padding-bottom"));i.find(".js-scrollbar").css("max-height",t-a-s)}}var i=e(this);t(),window.resizeCSB=r.on("resize",t)}),UIkit.util.on(".js-modal-article","hidden",function(){resizeCSB.off("resize")})});